<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      html{
        display: flex;
        justify-content: center;
      }
      img{
        width:200px;
        position: relative;
        top:180px;
        left:70px;
      }
      p{
        padding: 15px;
        position: relative;
        text-align: center;
        top:160px;
        line-height: 1.8;
      }
    </style>
    <p id="text">Place your phone on the mounting device for sensing</p>
    <img src="https://firebasestorage.googleapis.com/v0/b/digitalsignature-af550.appspot.com/o/Food%2FrequestLoadingimg.gif?alt=media&token=cf7a12c2-d780-4ce3-841d-76c57270a886">
    <title>Document</title>
</head>
<body>
    

        <script>
          let text = document.getElementById("text");
          let count =0;
            document.addEventListener('DOMContentLoaded', function(event) {

            if (window.DeviceOrientationEvent) {
              
              window.addEventListener('deviceorientation', (eventData) => {
                // gamma: Tilting the device from left to right. Tilting the device to the right will result in a positive value.
                const tiltLR = eventData.gamma;
                // beta: Tilting the device from the front to the back. Tilting the device to the front will result in a positive value.
                const tiltFB = eventData.beta;
                // alpha: The direction the compass of the device aims to in degrees.
                const dir = eventData.alpha
                // Call the function to use the data on the page.
                deviceOrientationHandler(tiltLR, tiltFB, dir);
              }, false);
            } 

            function deviceOrientationHandler(tiltLR, tiltFB, dir) {
              let beta = Math.ceil(tiltFB);
              let gamma = Math.ceil(tiltLR);
              let alpha = Math.ceil(dir);
              let val1 = Number(beta);
              let val2 = Number(gamma);
              if((val1<=6)&&(val1>=5)&&(val2>=-1)&&(val2<=2)){
                setTimeout(()=>{
                  count++;
                },9000)
              }
              else{
                text.innerHTML="Place your phone on the mounting device for sensing";
                count=0;
              }
            }

            });
            setInterval(()=>{
              if(count==20){
                text.innerHTML="Processing please wait"
                location.replace("pay.html");
              }
            });
        </script>
</body>
</html>
